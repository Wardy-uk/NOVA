N.O.V.A — TO DO
================

--- Triage ---

(empty)

=== CURRENT STATUS (1 Mar 2026) ===

Deployed at https://nova.nurtur.tech | v1.1.0 | Branch: nova-codex
IIS reverse proxy → Node.js (NSSM) on Windows Server VM

6 areas: My NOVA, Service Desk, Onboarding, Delivery, CRM, Admin
5 MCP integrations: Jira, MS365, Monday.com, D365, OneDrive
Milestone workflow engine: progressive task/ticket creation on lead-day triggers
AI chat, notifications, audit log, team workload, SD dashboard, Jira OAuth
0 bugs | 0 blockers | Monday.com syncing 22 tasks across 5 boards

Known limitation:
  - MS365 transient sources may not populate on restart until manual sync or 10s retry

Deploy: .\deploy\deploy.ps1 -Branch nova-codex (on server C:\Nurtur\NOVA)
Completed items: see NOVA_completed.txt


=== DONE (1 Mar 2026) ===

[x] 32. BUG FIX: SD Kanban drag snaps back — optimistic local state update so
    card moves immediately on drag, with 2s delayed refresh for Jira eventual
    consistency. Card stays in target column after refresh.
[x] 30. D365 account link — wired crm_customer_id through client form (autocomplete
    select sets ID, manual typing clears it), save body, server POST/INSERT.
    "Linked to CRM" indicator shows when CRM customer selected.
[x] 31. Milestone ticket creation button — POST /:id/create-tickets endpoint
    creates Jira tickets for linked ticket groups. UI shows "Create Tickets"
    button on milestones with linked groups, or Jira key badges when created.
[x] 25. Managers overview — Onboarding Overview tab with KPI cards (active
    deliveries, MRR, milestones overdue), milestone health bars, product
    breakdown table, manager workload table, recent ticket runs feed.
[x] 26. Delivery completion tracker — KPI cards on Delivery page showing
    Delivered Today / This Week / This Month (with MRR) and Active Pipeline.
[x] 33. Manual refresh button — refresh icon on all area sub-tab bars
    (My NOVA, Onboarding, CRM, SD). Dispatches nova-refresh event to child
    components. Spinner animation while refreshing.


=== DO NEXT ===

8.  Jira SLA prioritisation — tickets over SLA or overdue an update should be
    prioritised. SLA timer and attention endpoint already exist. Needs user to
    define the rules (which fields, thresholds, priority weights).


=== TECHINCAL DEBT ===

1.  Lock down global settings exposure — restrict `GET /api/settings` to admin
    or return a redacted subset; never expose `jwt_secret` or integration creds.
2.  Role-guard integrations endpoints — only admin can modify admin-only
    integrations (SSO, Jira onboarding, Service Desk config); validate updates.
3.  Fix production SPA fallback route — replace invalid `{*path}` with Express
    wildcard to ensure SPA loads in prod.
4.  Jira OAuth base URL resolution — correct redirect base when `FRONTEND_URL`
    is set to avoid localhost callbacks in prod.
5.  Remove sensitive debug logging — Jira attention debug logs and Monday board
    debug file should be behind an explicit debug flag.
6.  Settings/users file-store durability — add locking or move to DB-backed
    persistence to prevent concurrent write loss.


=== TIER 2: Feature additions ===

(empty)


=== TIER 3: Platform maturity ===

13. Architecture review for 50+ users — sql.js limitations, MCP pooling,
    migration path (sql.js → better-sqlite3 or PostgreSQL)
14. Customer 360 timeline — unified per-customer view across all sources
19. Email attachments — list/get/add attachments on messages
20. Multi-calendar support — list-calendars route exists, needs UI
21. Workflows for tickets and deliveries
22. Jira move-team automation (move ticket to a different project)
23. Browse mail folders — route exists, needs UI
24. Browse specific planner plans


=== FUTURE CONSIDERATION ===

- Global search across all entities
- Scheduled email digests (weekly delivery progress, overdue items)
- CSV/PDF export for stakeholders
- Keyboard shortcuts (G+D, G+T, /, N)
- PWA support (manifest + service worker)
- Saved filters/views
- Webhook receiver (real-time Jira/Monday sync)
- Sales pipeline (order form → task → welcome pack)
