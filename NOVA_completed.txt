N.O.V.A — COMPLETED ITEMS
==========================
(moved from NOVA_todo.txt on 28 Feb 2026)

=== v1.1.0 — Tier 1 + Tier 2 (28 Feb 2026) ===

[DONE] Item 9: Chat to NOVA — conversational AI chat tab in My NOVA (GPT-4o-mini, context-aware, conversation persistence)
[DONE] Item 10: Correlate Jira tickets with deliveries — Linked Tickets panel in DeliveryDrawer (onboarding runs + SD matches by account name)
[DONE] Item 11: CRM partners autocomplete — Account field in DeliveryDrawer suggests D365 CRM customers as you type
[DONE] Item 12: Service Desk Dashboard — KPI cards (Total Open, SLA Breached, Overdue Updates, Distinct Customers) + priority/status/assignee breakdowns
[DONE] Item 15: Notifications & alerts — bell icon with unread count, alerts for overdue milestones, upcoming deliveries, SLA breaches, dedup within 24h
[DONE] Item 16: Team workload view — per-person load table (active deliveries, pending/overdue milestones, open tickets) with colour-coded cells
[DONE] Item 17: Activity audit log — audit_log table, AuditHistory in DeliveryDrawer, Audit Log tab in Admin, logged on all create/update/delete actions
[DONE] Item 18: Jira OAuth 3LO — PKCE auth flow, Connect Jira button in My Settings, admin configures OAuth app in Integrations, Bearer token auth to Jira Cloud API

=== v1.0.9 — Delivery & Onboarding UX (28 Feb 2026) ===

[DONE] Delivery UX: Save & Close button on DeliveryDrawer
[DONE] Delivery UX: Onboarder defaults to logged-in user + autocomplete from user list
[DONE] Delivery UX: My Deliveries filter on delivery sheet
[DONE] Delivery UX: Date range filter (All/This Month/Next Month/Custom) on delivery sheet
[DONE] Delivery UX: Milestone-gated ticket creation — locked groups greyed out with "Locked until..." message
[DONE] Delivery UX: Gate ticket creation until entry is saved (requires onboarding_id)
[DONE] Delivery UX: Selectable ticket creation — checkboxes + Select All/Deselect All
[DONE] Auto-deploy Task Scheduler — script exists, registration is an ops task (deploy/auto-deploy.ps1)
[DONE] Jira onboarding settings — all request type field IDs configurable in Admin > Integrations
[DONE] Documentation — help page covers 12 sections, all major features documented [ONGOING minor updates]
[DONE] Dashboard KPIs — onboarding metrics (milestone progress, overdue, recent runs) on Command Centre
[DONE] My Focus auto-population — SLA breached + overdue update tickets auto-appear in My Focus
[DONE] Delivery kanban — drag-and-drop status board with 5 columns + Table/Kanban toggle
[DONE] BUG2 closed — To-Do adapter no longer errors; returns 0 lists cleanly (MCP issue resolved itself)
[DONE] BLOCK1 closed — Monday.com now syncs 22 tasks via auto-discovery (get_user_context, 5 boards)
[DONE] Version + git hash in status bar — v1.0.1 (abc1234) in footer, auto-incremented per deploy
[DONE] Auto-deploy watcher script — deploy/auto-deploy.ps1 polls git every 3m, deploys on new commits
[DONE] Data persistence safeguards — atomic writes (temp+rename), daily backups (7-day rotation), startup corruption recovery from backups, auto-save reduced to 15s
[DONE] Onboarding ticket creation UI — Create Tickets tab in Admin > Onboarding with sale type dropdown, customer name, ref auto-suggest, due date, dry-run preview, result display, recent runs table
[DONE] BUG5 fix — retry transient source sync after 10s if MCP not ready on restart
[DONE] BUG6 fix — kanban drag transition auto-selects matching status, errors if tool missing, re-fetches after transition
[DONE] Cleanup — removed debug endpoint, _debug field, and debug button
[DONE] Soft outline around all task cards — subtle border-[#3a424d]/40 for visual separation
[DONE] Date/assignee labels on ticket cards — "Created:", "Assignee:", "Due:" prefixes on badges
[DONE] Background refresh no longer closes drawers — skip setState when data unchanged (JSON compare)
[DONE] Per-user task scoping — cached standup enrichment filtered by allowed sources
[DONE] Per-user task scoping — Ask NOVA and Standup routes scoped, shared source-filter utility extracted
[DONE] Current Tier (customfield_12981) shown on all ticket displays — TaskCard, Kanban, Calendar, TaskDrawer, JiraDrawer
[DONE] Silent background refresh — all screens poll without UI disruption (useTasks 30s, SD 60s)
[DONE] Auto-sync all task sources on first page load — useTasks fires silent sync on mount
[DONE] Service Desk routes use admin fallback for Jira settings — isJiraEnabled/getJiraUsername helpers
[DONE] Per-user task scoping — admin falls back to global settings, non-admin must enable in My Settings
[DONE] Dashboard stats scoped to user's enabled integrations
[DONE] Assignee + Current Tier on Service Desk Kanban cards
[DONE] Jira SLA field reader — unwrap {value: X} wrappers from MCP custom fields
[DONE] SD project + tier filters moved to admin-only Service Desk Config
[DONE] SD left/right split — user tickets on left tabs, all-tickets views on right pills
[DONE] SD queries gated on user's personal Jira config
[DONE] SD project + tier filter applied to all queries with exclude logic
[DONE] Don't flag tickets as overdue if Agent Last Updated was never set
[DONE] SharePoint sync pull working — fixed site URL format + download URL fetch (was decoding JSON metadata as base64)
[DONE] SSO primary login — Microsoft sign-in button at top, local password form below
[DONE] Tour expanded — step descriptions now list specific tabs within each area
[DONE] Milestones merged into Onboarding tab — removed standalone admin Milestones tab
[DONE] Per-User AI Key Overrides moved to My Settings — removed admin per-user key management, users self-serve
[DONE] Security hardening — helmet headers, login rate limiting, debug endpoints gated behind admin auth
[DONE] Quick tour / onboarding — 5-step interactive walkthrough overlay, localStorage persistence, "Take Tour" in user menu
[DONE] Feedback improvements — admin reply, username tracking, create-task-from-feedback
[DONE] Session-only MS365 data — transient flag on tasks, purge on server restart, MS365 sources non-persistent
[DONE] BUG1 fix — Service Desk live Jira search for Unassigned/All filters (GET /api/tasks/service-desk?filter=)
[DONE] BUG3 fix — CRM MRR value truncation with tooltip
[DONE] BUG4 fix — D365 Purge & Re-sync button with confirmation dialog
[DONE] Deploy script fix — npm ci instead of npm install to prevent lockfile drift
[DONE] README rewrite — current features, deployment, full project structure
[DONE] .gitignore update — db backups, temp xlsx files, .claude dir
[DONE] IIS + NSSM deployment — reverse proxy, Windows Service, auto-restart, git-based deploys
[DONE] Express 5 wildcard route fix — '{*path}' instead of '*'
[DONE] Production static file path fix — ../../client instead of ../client
[DONE] Deploy scripts — install-service.ps1, deploy.ps1, setup-iis-site.ps1
[DONE] Delete Local Data per integration — Settings > Integrations delete button
[DONE] Delivery view graceful fallback — works without local xlsx, shows DB entries + SP sync
[DONE] Entra SSO login flow — device code, auto-provision, OID/email matching
[DONE] Configurable role permissions — per-area min role, Admin > Permissions grid
[DONE] Jira dual-account config — My Settings = personal Jira (read/sync), Admin = service account for onboarding automation
[DONE] My Settings / Admin split — separate standalone pages, personal integrations in My Settings, global config in Admin
[DONE] Personal AI key override — per-user API key in My Settings > AI Preferences, overrides global key
[DONE] Milestone tasks surfaced across all views — source='milestone' in Dashboard, Tasks, Ask NOVA, Standup, TaskCard, NextActions, TaskDrawer
[DONE] My Focus next milestone per delivery — shows next pending milestone with due date colour coding
[DONE] Milestone dynamic priority — overdue=80, due 3d=70, due 7d=60, normal=50, complete=20
[DONE] Milestone stale-delete protection — deleteStaleBySource skips 'milestone' source
[DONE] AI prompts enhanced with milestone context — morning/replan/eod + ai-actions system prompt
[DONE] MCP reconnect improvements — stuck flag timeout (30s), connection timeout (30s), partial cleanup, EPIPE detection
[DONE] Monday.com MCP pinned to v1.16.1 — v2.0.0 crashes on Windows (OpenTelemetry EPERM)
[DONE] Entra ID SSO integration card — Admin > Integrations for SSO config
[DONE] Onboarding Calendar — monthly grid showing delivery milestones by target date
[DONE] SD5 — Service Desk Kanban drag-and-drop — drag tickets between status columns to transition in Jira
[DONE] BYM default milestones imported — 10 milestones (Day 0-35) with full checklists
[DONE] Milestone auto-creation on import — bulk import creates milestones + tasks for each imported entry
[DONE] F2 — My Focus milestone-aware — deliveries with overdue milestones auto-appear
[DONE] DM2 — Milestone instances as tasks — source='milestone', bidirectional sync
[DONE] DM1 — Delivery milestones (30-day model) — milestone_templates + delivery_milestones tables
[DONE] SD4 — Service Desk Kanban fixed 5 columns
[DONE] SD3 — Service Desk calendar view with monthly grid, drag-and-drop reschedule
[DONE] SD2 — Service Desk Kanban toggle group-by-status / group-by-date
[DONE] SD1 — Service Desk ticket ownership tabs (My Tickets / Unassigned / All)
[DONE] My Focus includes deliveries — starred-for-me and onboarder-matched entries
[DONE] Ask NOVA moved to Command Centre dashboard
[DONE] Service Desk filters removed — flat sorted list
[DONE] D365 sync NOT NULL fix
[DONE] D365 credential saving — fixed field visibility + status feedback
[DONE] Administration tab hidden from top nav — accessed via user menu
[DONE] User menu dropdown — Settings/Admin/Help/Feedback/Debug/Logout
[DONE] File-based settings store — settings.json
[DONE] File-based user store — users.json
[DONE] Add User modal in AdminView
[DONE] Nav restructured into 5 team areas
[DONE] Onboarding auto-seed on startup
[DONE] Onboarding grouped matrix UI — 5-tab editor
[DONE] Onboarding ticket type grouping
[DONE] Onboarding nav + wiring
[DONE] Onboarding execution API
[DONE] Onboarding ticket orchestrator — idempotent, resume-safe, dry-run
[DONE] Onboarding matrix resolver
[DONE] Direct Jira REST v3 client
[DONE] Standalone import script
[DONE] Onboarding config UI — 4-tab editor
[DONE] Onboarding matrix import from xlsx
[DONE] Onboarding config CRUD API
[DONE] Onboarding config DB tables — 5 tables
[DONE] delivery — SP folder path configurable
[DONE] delivery — NOVA Only filter toggle
[DONE] D365 config to Admin
[DONE] Bulk ToDo result validation
[DONE] Monday.com MCP -32000 on save fix
[DONE] D365 delegated auth — device code flow
[DONE] multi-user — per-user focus/pins, per-user standups
[DONE] Monday.com initial connection retry
[DONE] deliveries — inline editing
[DONE] deliveries — column sorting
[DONE] delete delivery items
[DONE] delete users
[DONE] Feedback feature
[DONE] create/edit calendar events from NOVA
[DONE] send/reply/forward emails from NOVA
[DONE] Import xlsx to DB
[DONE] SharePoint sync push
[DONE] SharePoint sync pull
[DONE] Dynamics 365 CRM integration
[DONE] Onboarding unique IDs — BYM0001 format
[DONE] MCP auto-reconnect
[DONE] Documentation — User guides (help page)
[DONE] per-user AI key override
[DONE] Global API key for AI
[DONE] Feature access — role based
[DONE] Users, roles & teams
[DONE] Admin screen
[DONE] Create MS todos from NOVA (batch)
[DONE] deliveries — prefill drawer from xlsx row
[DONE] star xlsx rows
[DONE] removed global Sync Now from navbar
[DONE] per-source Sync Now buttons
[DONE] deliveries — manual SharePoint sync
[DONE] deliveries — clean up test data
[DONE] deliveries — remove duplicate entries
[DONE] deliveries — starred for me / starred for all
[DONE] README technical documentation
[DONE] move Sync Now to Settings
[DONE] deliveries — multi-select status filter (table + dashboard)
[DONE] deliveries — remove Branches + Incr columns
[DONE] deliveries — side drawer for editing
[DONE] Jira assignee picker
[DONE] deliveries — starred deliveries
[DONE] deliveries — training date column
[DONE] deliveries — wider panel
[DONE] My Focus panel
[DONE] per-integration auto sync
[DONE] stale task cleanup hardened
[DONE] NextActions uses universal TaskDrawer
[DONE] Jira transitions + comment history in universal TaskDrawer
[DONE] Jira fields in TaskDrawer
[DONE] remove "Open" from task items
[DONE] universal side drawer for all task types
[DONE] edit tasks + sync back to source
[DONE] create tasks from NOVA
[DONE] remove JQL search from UI
[DONE] sync frequency dropdown
[DONE] Remember Me on login
[DONE] delivery sheet MRR overflow fix
[DONE] configurable email filter + days-to-pull
[DONE] PA bridge toggle layout
[DONE] fix login race condition
[DONE] O365 enable toggle auto-saves
[DONE] O365 per-source sync toggles
[DONE] PA bridge toggles
[DONE] sync source toggles
[DONE] login — JWT auth
[DONE] CRM page
[DONE] Delivery data entry
[DONE] Daily Stats as home page
[DONE] preload delivery sheet
[DONE] Split Daily Stats and KPIs
[DONE] delivery sheet mock up
[DONE] daily stats/KPIs page
[DONE] Jira automations from NOVA
[DONE] reduce ask nova button size
[DONE] borders round Ask NOVA
[DONE] multi select sources for ask nova
[DONE] lightmode/dark mode toggle
[DONE] make ask nova button bigger
[DONE] Standup persistence
[DONE] Jira transitions
[DONE] Jira comment history
[DONE] pre load AI tasks
[DONE] auto run Ask Nova on load
[DONE] persist filter selection
[DONE] persist settings
